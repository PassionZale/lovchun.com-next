---
title: 'æ„å»º Vue3 ç»„ä»¶åº“ - å¦‚ä½•å¼€å§‹'
createdAt: '2023-11-20'
publishedAt: '2023-11-22'
updatedAt: '2023-11-22'
toc: false
draft: false
summary: 'åœ¨å¼€å§‹ç¼–ç å‰ï¼Œå…ˆç¢ç£¨ç¢ç£¨é¡¹ç›®ç»“æ„çš„é€‰å‹ã€‚'
tags: ['æŒ‡å—', 'Vue.js']
components: ['Tree']
---

## ç›®å½•

- [**ã€Šæ„å»º Vue3 ç»„ä»¶åº“ - å¦‚ä½•å¼€å§‹ã€‹**](/posts/setup-vue3-component-library/how-to-start)
- [**ã€Šæ„å»º Vue3 ç»„ä»¶åº“ - å®‰è£…ä¾èµ–ã€‹**](/posts/setup-vue3-component-library/install-deps)
- [**ã€Šæ„å»º Vue3 ç»„ä»¶åº“ - Svg-iconã€‹**](/posts/setup-vue3-component-library/svg-icon)

10.13 - 11.10ï¼ŒèŠ±è´¹äº†å°½ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œå®Œæˆäº† [`Geist Design`](https://geist-design.lovchun.com/) æ•´å¥—ç»„ä»¶åº“çš„æ­å»ºã€‚

~~ç›´åˆ°ç°åœ¨å•å…ƒæµ‹è¯•è¿˜æ²¡å¼€å§‹å†™ã€‚~~

åœ¨ç¼–ç å¼€å§‹ä¹‹å‰ï¼Œæˆ‘è¿˜èŠ±è´¹äº†æ•°ä¸ªæœˆçš„æ—¶é—´è°ƒç ”å’Œå°è¯•äº†å‡ å¥—æ„å»ºåº“çš„æ¨¡å¼ï¼ŒæœŸé—´é‡åˆ°äº†è®¸å¤šé—®é¢˜ï¼Œè¯¸å¦‚ï¼š

- é‡‡ç”¨å“ªç§æ¨¡å¼æ­å»ºé¡¹ç›®ï¼›
- `lint` è¦æ€ä¹ˆåšï¼›
- `ts+vue` è¦æ€ä¹ˆé…ç½®ï¼›
- å¦‚ä½•æ­å»ºå’Œéƒ¨ç½²æ–‡æ¡£ï¼›
- å¦‚ä½•è®¾è®¡ç»„ä»¶çš„ç›®å½•ç»“æ„ï¼›
- å¼€å‘æ—¶å¦‚ä½•è°ƒè¯•ç»„ä»¶ï¼›
- å¦‚ä½•å¤„ç†ç»„ä»¶æ‰€éœ€è¦çš„ iconsï¼›
- å¦‚ä½•å¤„ç†ç»„ä»¶çš„æ ·å¼ï¼›
- å¦‚ä½•æ„å»ºå’Œå‘å¸ƒç»„ä»¶åº“ï¼›
- ...

> **monolith** **multirepo** **monorepo** åˆ°åº•è¯¥é€‰å“ªä¸€ä¸ªï¼Ÿ

ç½‘ä¸Šé“ºå¤©ç›–åœ°çš„æ–‡ç« ï¼Œä¸çº¦è€ŒåŒçš„æ¨èä½ ä½¿ç”¨ `monorepo` + `pnpm workspace` æ¥æ„å»ºä¸€ä¸ªç»„ä»¶åº“ï¼š

<Tree data={MonoRepoStructure} />

å¯¹äº `pnpm` **é›¶ç»éªŒ** çš„å°ä¼™ä¼´æ¥è®²ï¼Œä½ å¯èƒ½éœ€è¦ä» [æ–‡æ¡£](https://pnpm.io/zh/installation) å¼€å§‹å­¦ä¹ ä¸€ä¸‹ `pnpm`ï¼Œ

ç„¶åä½ åˆä¼šé‡åˆ°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼š

- `package.json` çš„ `private` è®¾ç½®ä¸º `true / false`ï¼›
- `pnpm --filter`ï¼›
- `pnpm --recursive --parallel --stream run **`ï¼›
- `pnpm@7` `pnpm@8` ç‰ˆæœ¬æ€ä¹ˆæ§åˆ¶ï¼›
- `shamefully-hoist` `auto-install-peers` `strict-peer-dependencies` æ€ä¹ˆè®¾ç½®ï¼›
- ä¸ºä»€ä¹ˆæœ‰çš„åº“éœ€è¦è£…åˆ°æ ¹ç›®å½•ï¼Œæœ‰çš„éœ€è¦å®‰è£…åˆ°æŒ‡å®šçš„ `workspace`ï¼›
- ...

<details open>
  <summary className="cursor-pointer">**çµé­‚æ‹·é—®**</summary>

  * **ä½ çœŸçš„éœ€è¦ monorepo å—ï¼Ÿ**

  * **ä½ çœŸçš„ä¼šæŒç»­çš„ç»´æŠ¤ç»„ä»¶åº“å—ï¼Ÿ**

  * **ä½ çœŸçš„ä¼šæŒç»­çš„æ„å»ºç»„ä»¶åº“ç›¸å…³ç”Ÿæ€å—ï¼Ÿ**

  * **ä½ çœŸçš„ä¼šæŒç»­çš„è§£å†³ issue å—ï¼Ÿ**

  * **çœŸçš„ä¼šæœ‰äººä½¿ç”¨ä½ çš„ç»„ä»¶åº“å—ï¼Ÿ**

</details>

åœ¨è°ƒç ”æœŸé—´ï¼Œæˆ‘è´­ä¹°äº†ä¸€æœ¬å°å†Œ [ã€ŠåŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜ã€‹](https://s.juejin.cn/ds/iRCGnt8v/)ï¼Œè¯„è®ºä¸‹é¢ï¼Œå­¦å‘˜å„ç§ç¯å¢ƒé—®é¢˜é¢‡å¤šï¼Œè¿™ä¸ªè·‘ä¸èµ·æ¥ï¼Œé‚£ä¸ªä¸ç”Ÿæ•ˆçš„æ¯”æ¯”çš†æ˜¯ã€‚

èƒ½è·Ÿç€æŠŠå°å†Œå•ƒå®Œï¼Œè€ŒåæŠ˜è…¾å‡ºæˆæœçš„ä¸å¤šï¼Œåœ¨ [ğŸš€ å­¦å‘˜ä¼˜ç§€å®è·µæ±‡æ€»](https://github.com/smarty-team/smarty-admin/issues/17) ä¸­ï¼Œå¤§éƒ¨åˆ†å­¦å‘˜ä»¬çš„æˆæœï¼ŒåŸºæœ¬å°±æ˜¯å†™äº† `<Button />`ï¼Œè€Œåå‘å¸ƒä¸€æ¬¡ `npm`ï¼Œå°±ç»“æŸäº†ã€‚

å…¶ä¸­æœ€å¥å£®çš„ [`Fighting Design`](https://github.com/FightingDesign/fighting-design)ï¼Œæˆ‘ä»è¿™ä¸ªä»“åº“å€Ÿé‰´äº†è®¸å¤šï¼Œå¦‚ `eslint` `utils` `props` ç­‰ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„ä»“åº“ï¼Œå¦‚æœä½ ä»ç„¶æƒ³ç”¨ monorepo è¯•è¯•ï¼Œå¯ä»¥å‚è€ƒå®ƒï¼Œå½“ç„¶ [`Element Plus`](https://github.com/element-plus/element-plus) ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

<Image
  src="/static/images/setup-vue3-component-library/i-want-easy-to-play.png"
  alt={"i-want-easy-to-play"}
  width={335}
  height={105}
/>

æ­£å¦‚ [**JsLin**](https://github.com/JslinSir) æ‰€è¯´ï¼Œæ—¢ç„¶å¤§éƒ¨åˆ†äººåªæ˜¯æƒ³å°è¯•å¼€å‘åº“çš„è¿‡ç¨‹ï¼Œé‚£æˆ‘ä»¬ä¾¿ç›´æ¥æŒ‰ç…§ **monolith** çš„å½¢å¼æ¥æ­å»ºé¡¹ç›®ã€‚

å®Œæ•´çš„åˆ¶ä½œä¸€ä¸ªç»„ä»¶åº“ï¼Œ**è‡³å°‘éœ€è¦ä¸‰ä¸ª**ç›®å½•æˆ–è€…é¡¹ç›®æ¥æ”¯æ’‘æ•´ä¸ªå¼€å‘ï¼š

**`./docs/`ï¼š**

ç”¨æ¥ç¼–å†™æ‰€æœ‰çš„æ–‡æ¡£å’Œç¤ºä¾‹ï¼Œå¹¶ä¸”éœ€è¦å•ç‹¬éƒ¨ç½²ã€‚

**`./start/`ï¼š**

ç”¨æ¥æœ¬åœ°è°ƒè¯•ç»„ä»¶ï¼Œä¸éœ€è¦éƒ¨ç½²ï¼Œåªéœ€è¦èƒ½å®æ—¶çš„ç›‘å¬ç»„ä»¶æºç å˜åŒ–ï¼Œè€Œåæ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢ï¼Œèƒ½çœ‹åˆ°æ•ˆæœå³å¯ã€‚

~~ä¹Ÿå¯ä»¥å‘½åä¸º `./play/`~~

**`./src/`ï¼š**

ç»„ä»¶çš„æºç ç›®å½•ï¼Œé‡Œé¢å›Šæ‹¬äº†æ‰€æœ‰è·Ÿç»„ä»¶ç›¸å…³çš„ä¸œè¥¿ï¼š`styles/SFC/hooks/utils/etc...`ã€‚

<Tree data={MonolithStructure} />

**`vite + vitepress` åªéœ€è¦è¿™ä¸¤ä¸ªåº“ï¼Œä¾¿å¯ä»¥æ”¯æ’‘è¿™ä¸‰ä¸ªç›®å½•çš„è¿ä½œï¼š**

- `./docs/` æ˜¯ `vitepress` é»˜è®¤çš„é¡¹ç›®æ ¹ç›®å½•ï¼›
- `./start` æ˜¯ä¸€ä¸ª `vite` é¡¹ç›®ï¼Œå¼•å…¥ `./src/index.tsx` å³å¯å®æ—¶çš„è°ƒè¯•ç»„ä»¶ï¼›
- `./src/` ä½¿ç”¨ `vite` åº“æ¨¡å¼æ‰“åŒ…ï¼Œé€šè¿‡ `vite -c` æŒ‡å®šä¸åŒçš„é…ç½®æ–‡ä»¶æ¥åˆ†åˆ«æ„å»º `js` å’Œ `css`ï¼›

æ¥ä¸‹æ¥ï¼Œåœ¨åé¢çš„æ–‡ç« ä¸­ï¼Œå°†ä»å®‰è£…ä¾èµ–å¼€å§‹ï¼Œé€æ­¥å®Œå–„æ•´ä¸ªç»„ä»¶åº“çš„æ„å»ºã€‚

export const MonoRepoStructure = [
  {
    type: 'folder',
    name: 'docs',
    help: 'ç»„ä»¶æ–‡æ¡£'
  },
  {
    type: 'folder',
    name: 'play',
    help: 'ç»„ä»¶è°ƒè¯•'
  },
  {
    type: 'folder',
    name: 'packages',
    expand: true,
    childrens: [
      { type: 'folder', name: 'eslint-config', help: 'lint' },
      { type: 'folder', name: 'theme-chalk', help: 'æ ·å¼' },
      { type: 'folder', name: 'components', help: 'ç»„ä»¶æºç ' },
      { type: 'folder', name: 'hooks', help: 'è‡ªå®šä¹‰ composable api' },
      { type: 'folder', name: 'utils', help: 'ä¸€äº›å·¥å…·æ¨¡å—ç­‰...' },
    ]
  },
  {
    type: 'folder',
    name: 'scripts',
    help: 'å­˜æ”¾è„šæœ¬'
  },
  {
    type: 'file',
    name: '.eslintrc',
    icon: 'config'
  },
  {
    type: 'file',
    name: '.prettierrc',
    icon: 'config'
  },
  {
    type: 'file',
    name: 'pnpm-workspace.yaml',
    icon: 'pnpm'
  },
  {
    type: 'file',
    name: 'package.json'
  }
]

export const MonolithStructure = [
  {
    type: 'folder',
    name: 'docs',
    help: 'project root of vitepress'
  },
  {
    type: 'folder',
    name: 'start',
    help: 'vite project'
  },
  {
    type: 'folder',
    name: 'src',
    expand: true,
    childrens: [
      { type: 'folder', name: '_styles', help: 'æ ·å¼' },
      { type: 'folder', name: '_hooks', help: 'è‡ªå®šä¹‰ composable api' },
      { type: 'folder', name: '_utils', help: 'ä¸€äº›å·¥å…·æ¨¡å—ç­‰...' },
      { 
        type: 'folder', 
        name: 'avatar', 
        help: '<Avatar />', 
        expand: true,
        childrens: [
          { 
            type: 'folder', 
            name: 'src',
            expand: true,
            childrens: [
              { type: 'file', name: 'interface.ts' },
              { type: 'file', name: 'props.ts' },
              { type: 'file', name: 'avatar.vue' },
            ]
          },
          { type: 'file', name: 'index.ts' }
        ] 
      },
      { type: 'folder', name: 'button', help: '<Button />' },
      { type: 'folder', name: 'other component...', help: 'ä¸€ä¸ªç»„ä»¶ä¸€ä¸ªç›®å½•' },
      { type: 'file', name: 'index.ts', help: 'å¯¼å‡ºå…¨éƒ¨ç»„ä»¶' },
    ]
  },
  {
    type: 'file',
    name: 'vite.config.ts',
    icon: 'vite',
    help: 'vite åº“æ¨¡å¼æ‰“åŒ… js'
  },
  {
    type: 'file',
    name: 'vite.config.css.ts',
    icon: 'vite',
    help: 'vite åº“æ¨¡å¼æ‰“åŒ… css'
  },
  {
    type: 'file',
    name: 'package.json'
  }
]