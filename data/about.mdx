---
title: 'å…³äº'
createdAt: '2019-03-16'
publishedAt: '2019-03-16'
updatedAt: '2022-03-20'
draft: false
summary: 'about me... about website...'
tags: []
---

## lovchun.com

ğŸ¥° çº¯

## ç«™ç‚¹ç”±å“ªäº›æ‰€æ„å»º

- [Nextjs](https://nextjs.org/)
- [Tailwind CSS](https://tailwindcss.com/)
- [MDX](https://mdxjs.com/)
- [Prism Themes](https://github.com/PrismJS/prism-themes)
- [Contentlayer](https://www.contentlayer.dev)
- [create-next-app](https://github.com/vercel/next.js/tree/canary/packages/create-next-app)

## æˆ‘æ›¾ä½¿ç”¨è¿‡çš„æŠ€æœ¯æ ˆ

### å®¢æˆ·ç«¯

- `Gulp`
- `Webpack`
- `Nodejs`
- `Vuejs`
- `Reactjs`
- `Nextjs`
- `Typescript`
- `Miniprogram`

### æœåŠ¡ç«¯

- `PHP` : Codeigniterã€Laravelã€ThinkPHPã€Phalcon
- `Python` : Flaskã€Django
- `Nestjs`
- `Docker`
- `Nginx`
- `Mysql`
- `Memcache`
- `Supervisor`

## æˆ‘è¿™å‡ å¹´çš„å·¥ä½œ

æ¶‰åŠè¿‡é‡‘èã€é‚®ç®±ã€ç½‘ç«™ã€æ–°é›¶å”®ç­‰ä¸šåŠ¡ã€‚

æ—©å…ˆ `PHP` + `Require.js` + `jQuery` + `Bootstrap` å…¨æ ˆå·¥ä½œäº†ä¸‰å¹´ï¼Œåé¢ `Angular` æ¨ªç©ºå‡ºä¸–ï¼Œå†åˆ° `Reactjs` å’Œ `Vuejs`ï¼Œå‰åç«¯åˆ†ç¦»è¶‹åŠ¿æµè¡Œåï¼Œä¾¿ä¸€ç›´åœ¨å‰ç«¯é¢†åŸŸæ‘¸çˆ¬æ»šæ‰“ï¼Œç²¾é€šåŸºäº `Json Web Token` çš„å‰åç«¯åˆ†ç¦»ã€‚

æœ€è¿‘ä¸¤å¹´ä¸»è¦å·¥ä½œä» B ç«¯ è½¬æ¢åˆ°äº† C ç«¯ï¼Œ æ“…é•¿`å¾®ä¿¡/ä¼ä¸šå¾®ä¿¡å°ç¨‹åº`çš„ç›¸å…³å¼€å‘å’Œä¸€äº›è¥ä¿ƒé”€ `H5` çš„å¼€å‘ã€‚

## æ–°ç‰¹æ€§

### Vercel

ç°åœ¨ç½‘ç«™éƒ¨ç½²äº[Vercel](https://vercel.com)ï¼Œåªéœ€è¦æ¯å¹´ç»­è´¹åŸŸåï¼ˆÂ¥68ï¼‰ï¼Œå³å¯æ‹¥æœ‰ä¸€ä¸ª**ç‹¬ç«‹åŸŸåçš„é™æ€ç½‘ç«™**ï¼Œæ­¤å¤–è¿˜èƒ½å…è´¹æ„å»ºï¼Œå…è´¹çš„ PV/UV ç»Ÿè®¡ç­‰ç­‰ã€‚

ä¸ç”¨å†ç»­è´¹é˜¿é‡Œäº‘ ECSï¼Œä¸€å¹´çœä¸‹ Â¥700+ å€’æ˜¯å¯ä»¥åŠ å‡ ç®±æ²¹ ğŸ‰ 

### Tailwind CSS

æœ€è¿‘å‡ å¹´ï¼ŒåŸå­æ ·å¼çš„è¶‹åŠ¿è¶Šæ¥è¶Šå¥½ï¼Œè¿™æ¬¡æ•´ç«™`CSS`éƒ½æ˜¯åŸºäº `Tailwind CSS`ï¼Œä¾‹å¦‚ä¸»é¢˜åˆ‡æ¢ï¼Œè¯•è¯•ç‚¹å‡» ğŸ‘‰ <ThemeSwitch className="ml-2 px-4 py-2 font-semibold text-sm bg-cyan-500 text-white rounded-full shadow-sm">åˆ‡æ¢ä¸»é¢˜</ThemeSwitch>

### MDX

è¿™æ¬¡ç«™ç‚¹çš„é‡æ„ï¼ŒåŸºäº `mdx`ï¼Œæ‰‹åŠ¨æŠŠ `Mysql` ä¸­å¯Œæ–‡æœ¬å½•å…¥çš„æ—§æ–‡ç« è½¬æ¢ä¸º `mdx` æ˜¯ä¸ªå¾ˆè´¹åŠ²çš„å·¥ä½œï¼Œå†åŠ ä¸Šä»¥å‰çš„æ–‡ç« è´¨é‡æ²¡é‚£ä¹ˆé«˜ï¼Œæ‰€ä»¥å‡ ä¹åˆ é™¤äº†å¤§éƒ¨åˆ†æ—§æ•°æ®ã€‚

### Contentlayer

æœ€å¼€å§‹ä½¿ç”¨ `mdx-loader`+`fs` è¯»å–æ–‡ä»¶ï¼Œè½¬æ¢ `modules`ï¼Œ åˆ›å»º `async router path`ï¼Œä½†æ˜¯æœ‰ä¸ªå¼Šç«¯ï¼Œæ•´ä¸ª `hotreload` åˆå¡åˆæ…¢ï¼Œè¿™ä¸ªå®Œå…¨æ— æ³•å¿å—ã€‚

æ— æ„ä¸­çœ‹åˆ°äº† [Contentlayer](https://www.contentlayer.dev)ï¼Œå®ƒçš„è¿è¡ŒåŸç†å¤§æ¦‚å¦‚ä¸‹ï¼š

<Image
  src="/static/images/contentlayer.png"
  width={1233}
  height={587}
/>

è¿™ä¸ªåº“è¿˜æ˜¯ `ALPHA`ï¼Œèƒ½å¾ˆå¥½çš„å¤„ç† `fiels` => `modules`ï¼Œç¼–è¯‘å’Œè½¬æ¢éƒ½éå¸¸éå¸¸çš„å¿«ï¼Œå®Œç¾è§£å†³ä¸Šé¢çš„å¼Šç«¯ã€‚

### FrontMatter

`fields in *.mdx file`

```js {2,8,14,20,26,32,38}
const CommonFields = {
  title: {
    type: 'string',
    description: 'æ ‡é¢˜',
    required: true,
  },

  createdAt: {
    type: 'date',
    description: 'åˆ›å»ºæ—¶é—´',
    required: true,
  },

  publishedAt: {
    type: 'date',
    description: 'å‘å¸ƒæ—¶é—´',
    default: null,
  },

  updatedAt: {
    type: 'date',
    description: 'æœ€åæ›´æ–°æ—¶é—´',
    default: null,
  },

  draft: {
    type: 'boolean',
    description: 'æ˜¯å¦ä¸ºè‰ç¨¿, è‰ç¨¿ä¸ä¼šè¢«å±•ç¤º',
    default: true,
  },

  summary: {
    type: 'string',
    description: 'æ¦‚æ‹¬',
    default: null,
  },

  tags: {
    type: 'list',
    of: { type: 'string' },
    description: 'æ ‡ç­¾',
    required: true,
  },
}
```

`frontmatter`

```markdown
---
title: 'æ–‡ç« æ ‡é¢˜'
createdAt: '2022-03-01'
publishedAt: '2022-03-07'
updatedAt: '2022-03-10'
draft: false
summary: 'æ–‡ç« æ¦‚å†µ'
tags: ['next-js', 'tailwind', 'guide']
---
```

### PrismPlus

é™æ€çš„ `Markdown` å½“ç„¶å°‘ä¸äº†ä»£ç å—çš„æ”¯æŒï¼Œè¿™æ¬¡å¼•å…¥äº† `PrismPlus` æ¥å®ç°ä»£ç å—ç›¸å…³çš„é«˜äº®ç­‰åŠŸèƒ½ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

#### ä»£ç å—

```shell
MDX ----> remark AST ------> rehype AST --------> HTML
    parse            convert            stringify
```

#### ä»£ç æ ‡é¢˜

```js:pages/posts/[...slug.js]
export async function getStaticPaths() {
  return {
    // dynamic paths
    paths: allPosts.map(() => ({
      params: { slug: post.slug.split('/') }
    }))
    // fallback set false
    fallback: false,
  }
}
```

#### é«˜äº®è¡Œ

```js:pages/posts/[...slug.js] {1,3-4}
export async function getStaticPaths() {
  return {
    // dynamic paths
    paths: allPosts.map(() => ({
      params: { slug: post.slug.split('/') }
    }))
    // fallback set false
    fallback: false,
  }
}
```

#### æ˜¾ç¤ºè¡Œå·

```js:pages/posts/[...slug.js] {1,3-4} showLineNumbers
export async function getStaticPaths() {
  return {
    // dynamic paths
    paths: allPosts.map(() => ({
      params: { slug: post.slug.split('/') }
    }))
    // fallback set false
    fallback: false,
  }
}
```

#### æ˜¾ç¤ºå·®å¼‚

```diff:contentlayer.config.js
+ import remarkGfm from 'remark-gfm'
+ import rehypeSlug from 'rehype-slug'
+ import rehypeAutolinkHeadings from 'rehype-autolink-headings'
+ import rehypeCodeTitles from 'rehype-code-titles'
+ import rehypePrism from 'rehype-prism-plus'
+ import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis'

// ...

export default makeSource({
  mdx: {
-    remarkPlugins: [],
+    remarkPlugins: [remarkGfm],
-    rehypePlugins: [],
+    rehypePlugins: [
+      rehypeSlug,
+      rehypeCodeTitles,
+      rehypePrism,
+      rehypeAutolinkHeadings,
+      rehypeAccessibleEmojis,
    ],
  },
})
```

## TODO

1. [ ] RSS / SiteMap æ”¯æŒ
2. [ ] Tags è·¯ç”±æ”¯æŒ

**æ„Ÿè°¢è®¿é—®æˆ‘çš„ç«™ç‚¹!**
